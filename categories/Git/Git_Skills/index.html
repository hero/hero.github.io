<!DOCTYPE html>
<html  lang="zh">
<head>
    <meta charset="utf-8" />

<meta name="generator" content="Hexo 3.9.0" />

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

<title>Git基本操作与使用技巧 - Herowuking&#39;s Blog</title>


    <meta name="description" content="Git很重要，但是没有系统的学习过，只会git push和git clone的人，今天花时间整理一下。">
<meta name="keywords" content="git,Github,Gitee,skills">
<meta property="og:type" content="article">
<meta property="og:title" content="Git基本操作与使用技巧">
<meta property="og:url" content="https://www.herowuking.com/categories/Git/Git_Skills/index.html">
<meta property="og:site_name" content="Herowuking&#39;s Blog">
<meta property="og:description" content="Git很重要，但是没有系统的学习过，只会git push和git clone的人，今天花时间整理一下。">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://www.herowuking.com/categories/Git/Git_Skills/Git_Skills-thumbnail.png">
<meta property="og:updated_time" content="2020-03-05T07:03:38.078Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Git基本操作与使用技巧">
<meta name="twitter:description" content="Git很重要，但是没有系统的学习过，只会git push和git clone的人，今天花时间整理一下。">
<meta name="twitter:image" content="https://www.herowuking.com/categories/Git/Git_Skills/Git_Skills-thumbnail.png">



<link rel="canonical" href="https://www.herowuking.com" />





<link rel="icon" href="/images/favicon.svg">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/vs2015.css">


    
    
<style>body>.footer,body>.navbar,body>.section{opacity:0}</style>

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">

    
    
    
    
<link rel="stylesheet" href="/css/back-to-top.css">

    
    
    
    
    
    
    
    <link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
    
    <script async="" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    



  <script src='https://unpkg.com/mermaid@7.1.2/dist/mermaid.min.js'></script>
  <script>
    if (window.mermaid) {
      mermaid.initialize({theme: 'forest'});
    }
  </script>

<link rel="stylesheet" href="/css/style.css">
</head>
<body class="is-2-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/logo.svg" alt="Git基本操作与使用技巧" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item"
                href="/">主页</a>
                
                <a class="navbar-item"
                href="/archives">归档</a>
                
                <a class="navbar-item"
                href="/categories">分类</a>
                
                <a class="navbar-item"
                href="/tags">标签</a>
                
                <a class="navbar-item"
                href="/about">关于</a>
                
            </div>
            
            <div class="navbar-end">
                
                    
                    <a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/hero/hexo-blog">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                    
                
                
                <a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;">
                    <i class="fas fa-list-ul"></i>
                </a>
                
                
                <a class="navbar-item search" title="搜索" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-9-widescreen has-order-2 column-main">
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2020-03-05T06:15:23.000Z">2020-03-05</time>
                
                <div class="level-item">				
                <a class="has-link-grey -link" href="/categories/Git/">Git</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    24 分钟 读完 (大约 3646 个字)
                </span>
                
                
                <span class="level-item has-text-grey" id="busuanzi_container_page_pv">
                    <i class="far fa-eye"></i>
                    <span id="busuanzi_value_page_pv">0</span>次访问
                </span>
                
            </div>
        </div>
        		
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                Git基本操作与使用技巧
            
        </h1>
		
			<div class="content">
				<p><code>Git</code>很重要，但是没有系统的学习过，只会<code>git push</code>和<code>git clone</code>的人，今天花时间整理一下。</p>
<!-- 以上是摘要 -->
<a id="more"></a>
<!-- 以下是正文 -->
<h3 id="git基础操作"><a class="markdownIt-Anchor" href="#git基础操作"></a> Git基础操作</h3>
<h4 id="理解git工作流"><a class="markdownIt-Anchor" href="#理解git工作流"></a> 理解Git工作流</h4>
<p>你的本地仓库由 git 维护的三棵“树”组成。第一个是你的 <code>工作目录</code>，它持有实际文件；第二个是 <code>缓存区（Index）</code>，它像个缓存区域，临时保存你的改动；最后是 <code>HEAD</code>，指向你最近一次提交后的结果。</p>
<p><img src="/categories/Git/Git_Skills/trees.png" alt="git_work_flow"></p>
<h4 id="本地创建新仓库"><a class="markdownIt-Anchor" href="#本地创建新仓库"></a> 本地创建新仓库</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> project_dir</span><br><span class="line">$ git init</span><br><span class="line">$ git remote add origin `your_remote_git_repos_address`</span><br><span class="line">$ git add .		<span class="comment"># 注意add后面有个.  表示添加当前目录下所有文件</span></span><br><span class="line">$ git push -u origin master</span><br></pre></td></tr></table></figure>
<h4 id="检出仓库克隆到本地"><a class="markdownIt-Anchor" href="#检出仓库克隆到本地"></a> 检出仓库(克隆到本地)</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> `remote_git_repos_address`</span><br></pre></td></tr></table></figure>
<h4 id="分支branch"><a class="markdownIt-Anchor" href="#分支branch"></a> 分支(branch)</h4>
<p>分支是用来将特性开发绝缘开来的。在你创建仓库的时候，<em>master</em> 是“默认的”。在其他分支上进行开发，完成后再将它们合并到主分支上。</p>
<p><img src="/categories/Git/Git_Skills/branches.png" alt="branches"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建一个叫做`feature_x`的分支，并切换过去：</span></span><br><span class="line">$ git checkout -b feature_x</span><br><span class="line"><span class="comment"># 切换回主分支：</span></span><br><span class="line">$ git checkout master</span><br><span class="line"><span class="comment"># 再把新建的分支删掉：</span></span><br><span class="line">$ git branch -d feature_x</span><br><span class="line"><span class="comment"># 除非你将分支推送到远端仓库，不然该分支就是_不为他人_所见的：</span></span><br><span class="line">$ git push origin &lt;branch&gt;</span><br></pre></td></tr></table></figure>
<h4 id="更新与合并"><a class="markdownIt-Anchor" href="#更新与合并"></a> 更新与合并</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 要更新你的本地仓库至最新改动，执行：</span></span><br><span class="line">$ git pull</span><br><span class="line"><span class="comment"># 以在你的工作目录中 获取（fetch） 并 合并（merge） 远端的改动。</span></span><br><span class="line"><span class="comment"># 要合并其他分支到你的当前分支（例如 master），执行：</span></span><br><span class="line">$ git merge &lt;branch&gt;</span><br><span class="line"><span class="comment"># 两种情况下，git 都会尝试去自动合并改动。不幸的是，自动合并并非次次都能成功，并可能导致 冲突（conflicts）。 这时候就需要你修改这些文件来人肉合并这些 冲突（conflicts） 了。改完之后，你需要执行如下命令以将它们标记为合并成功：</span></span><br><span class="line">$ git add &lt;filename&gt;</span><br><span class="line"><span class="comment"># 在合并改动之前，也可以使用如下命令查看：</span></span><br><span class="line">$ git diff &lt;source_branch&gt; &lt;target_branch&gt;</span><br></pre></td></tr></table></figure>
<h4 id="标签"><a class="markdownIt-Anchor" href="#标签"></a> 标签</h4>
<p>在软件发布时创建标签，是被推荐的。这是个旧有概念，在 SVN 中也有。可以执行如下命令以创建一个叫做 <em>1.0.0</em> 的标签：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git tag 1.0.0 3490dfb</span><br></pre></td></tr></table></figure>
<p><code>3490dfb</code>是你想要标记的提交 ID 的前几位字符(唯一的就行)。使用如下命令获取提交 ID：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span></span><br><span class="line"><span class="comment"># 或者</span></span><br><span class="line">$ git <span class="built_in">log</span> --oneline</span><br></pre></td></tr></table></figure>
<h4 id="替换本地改动"><a class="markdownIt-Anchor" href="#替换本地改动"></a> 替换本地改动</h4>
<p>假如你做错事（自然，这是不可能的），你可以使用如下命令替换掉本地改动：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -- &lt;filename&gt;</span><br></pre></td></tr></table></figure>
<p>此命令会使用 HEAD 中的最新内容替换掉你的工作目录中的文件。已添加到缓存区的改动，以及新文件，都不受影响。</p>
<p>假如你想要丢弃你所有的本地改动与提交，可以到服务器上获取最新的版本并将你本地主分支指向到它：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git fetch origin</span><br><span class="line">$ git reset --hard origin/master</span><br></pre></td></tr></table></figure>
<hr>
<p>后文中以下面的形式使用图片（摘自《Git图解》）</p>
<p><img src="/categories/Git/Git_Skills/image-20200305133435775.png" alt="Git_visual_show_pics"></p>
<p>绿色的5位字符表示提交的ID，分别指向父节点。分支用橘色显示，分别指向特定的提交。当前分支由附在其上的<em>HEAD</em>标识。 这张图片里显示最后5次提交，<em>ed489</em>是最新提交。 <em>master</em>分支指向此次提交，另一个<em>maint</em>分支指向祖父提交节点。</p>
<h4 id="基本用法图解"><a class="markdownIt-Anchor" href="#基本用法图解"></a> 基本用法图解</h4>
<p><img src="/categories/Git/Git_Skills/image-20200305133107090.png" alt="git_basic_usage"></p>
<p>上面的四条命令在工作目录、暂存目录(也叫做索引)和仓库之间复制文件。</p>
<ul>
<li><code>git add *files*</code> 把当前文件放入暂存区域。</li>
<li><code>git commit</code> 给暂存区域生成快照并提交。</li>
<li><code>git reset -- *files*</code> 用来撤销最后一次<code>git add *files*</code>，你也可以用<code>git reset</code>    撤销所有暂存区域文件。</li>
<li><code>git checkout -- *files*</code> 把文件从暂存区域复制到工作目录，用来丢弃本地修改。</li>
</ul>
<p>你可以用 <code>git reset -p</code>, <code>git checkout -p</code>, or  <code>git add -p</code>进入交互模式。</p>
<p>也可以跳过暂存区域直接从仓库取出文件或者直接提交代码。</p>
<p><img src="/categories/Git/Git_Skills/image-20200305133309028.png" alt="direct_git_commands"></p>
<ul>
<li><code>git commit -a</code> 相当于运行 <code>git add</code>    把所有当前目录下的文件加入暂存区域再运行<code>git commit</code>。</li>
<li><code>git commit *files*</code> 进行一次包含最后一次提交加上工作目录中文件快照的提交。并且文件被添加到暂存区域。</li>
<li><code>git checkout HEAD -- *files*</code> 回滚到复制最后一次提交。</li>
</ul>
<h4 id="常用命令图解"><a class="markdownIt-Anchor" href="#常用命令图解"></a> 常用命令图解</h4>
<h5 id="diff"><a class="markdownIt-Anchor" href="#diff"></a> Diff</h5>
<p>有许多种方法查看两次提交之间的变动。下面是一些示例。</p>
<p><img src="/categories/Git/Git_Skills/image-20200305133622688.png" alt="git_diff"></p>
<h5 id="commit"><a class="markdownIt-Anchor" href="#commit"></a> Commit</h5>
<p>提交时，git用暂存区域的文件创建一个新的提交，并把此时的节点设为父节点。然后把当前分支指向新的提交节点。下图中，当前分支是<em>master</em>。 在运行命令之前，<em>master</em>指向<em>ed489</em>，提交后，<em>master</em>指向新的节点<em>f0cec</em>并以<em>ed489</em>作为父节点。</p>
<p><img src="/categories/Git/Git_Skills/image-20200305133706777.png" alt="git_commit"></p>
<p>即便当前分支是某次提交的祖父节点，git会同样操作。下图中，在<em>master</em>分支的祖父节点<em>maint</em>分支进行一次提交，生成了<em>1800b</em>。 这样，<em>maint</em>分支就不再是<em>master</em>分支的祖父节点。此时，<a href="#merge">Merge</a> (或者 <a href="#rebase">Rebase</a>) 是必须的。</p>
<p><img src="/categories/Git/Git_Skills/image-20200305133948192.png" alt="git_commit_2"></p>
<p>如果想更改一次提交，使用  <code>git commit --amend</code>。git会使用与当前提交相同的父节点进行一次新提交，旧的提交会被取消。</p>
<p><img src="/categories/Git/Git_Skills/image-20200305134040136.png" alt="git_commit_amend"></p>
<p>另一个例子是<a href="#detached">分离HEAD提交</a>,后文讲。</p>
<h5 id="checkout"><a class="markdownIt-Anchor" href="#checkout"></a> Checkout</h5>
<p>checkout命令用于从历史提交（或者暂存区域）中拷贝文件到工作目录，也可用于切换分支。</p>
<p>当给定某个文件名（或者打开-p选项，或者文件名和-p选项同时打开）时，git会从指定的提交中拷贝文件到暂存区域和工作目录。比如，<code>git checkout HEAD~ foo.c</code>会将提交节点<em>HEAD~</em>(即当前提交节点的父节点)中的<code>foo.c</code>复制到工作目录并且加到暂存区域中。（如果命令中没有指定提交节点，则会从暂存区域中拷贝内容。）注意当前分支不会发生变化。</p>
<p><img src="/categories/Git/Git_Skills/image-20200305134215043.png" alt="git_checkout"></p>
<p>当不指定文件名，而是给出一个（本地）分支时，那么<em>HEAD</em>标识会移动到那个分支（也就是说，我们“切换”到那个分支了），然后暂存区域和工作目录中的内容会和<em>HEAD</em>对应的提交节点一致。新提交节点（下图中的a47c3）中的所有文件都会被复制（到暂存区域和工作目录中）；只存在于老的提交节点（ed489）中的文件会被删除；不属于上述两者的文件会被忽略，不受影响。</p>
<p><img src="/categories/Git/Git_Skills/image-20200305134244761.png" alt="git_checkout_branch"></p>
<p>如果既没有指定文件名，也没有指定分支名，而是一个标签、远程分支、SHA-1值或者是像<em>master~3</em>类似的东西，就得到一个匿名分支，称作<em>detached HEAD</em>（被分离的<em>HEAD</em>标识）。这样可以很方便地在历史版本之间互相切换。比如说你想要编译1.6.6.1版本的git，你可以运行<code>git checkout v1.6.6.1</code>（这是一个标签，而非分支名），编译，安装，然后切换回另一个分支，比如说<code>git checkout master</code>。然而，当提交操作涉及到“分离的HEAD”时，其行为会略有不同，详情见<a href="http://marklodato.github.io/visual-git-guide/index-zh-cn.html#detached">detatched</a>。</p>
<p><img src="/categories/Git/Git_Skills/image-20200305134406461.png" alt="git_checkout_anonymous"></p>
<h5 id="reset"><a class="markdownIt-Anchor" href="#reset"></a> Reset</h5>
<p>reset命令把当前分支指向另一个位置，并且有选择的变动工作目录和索引。也用来在从历史仓库中复制文件到索引，而不动工作目录。</p>
<p>如果不给选项，那么当前分支指向到那个提交。如果用<code>--hard</code>选项，那么工作目录也更新，如果用<code>--soft</code>选项，那么都不变。</p>
<p><img src="/categories/Git/Git_Skills/image-20200305134602360.png" alt="git_reset_head~3"></p>
<p>如果没有给出提交点的版本号，那么默认用<em>HEAD</em>。这样，分支指向不变，但是索引会回滚到最后一次提交，如果用<code>--hard</code>选项，工作目录也同样。</p>
<p><img src="/categories/Git/Git_Skills/image-20200305134705167.png" alt="git_reset"></p>
<p>如果给了文件名(或者 <code>-p</code>选项), 那么工作效果和带文件名的<a href="http://marklodato.github.io/visual-git-guide/index-zh-cn.html#checkout">checkout</a>差不多，除了索引被更新。</p>
<p><img src="/categories/Git/Git_Skills/image-20200305134757813.png" alt="git_reset_files"></p>
<h5 id="span-idmergemergespan"><a class="markdownIt-Anchor" href="#span-idmergemergespan"></a> <span id="merge">Merge</span></h5>
<p>merge 命令把不同分支合并起来。合并前，索引必须和当前提交相同。如果另一个分支是当前提交的祖父节点，那么合并命令将什么也不做。  另一种情况是如果当前提交是另一个分支的祖父节点，就导致<em>fast-forward</em>合并。指向只是简单的移动，并生成一个新的提交。</p>
<p><img src="/categories/Git/Git_Skills/image-20200305134853990.png" alt="git_merge_master"></p>
<p>否则就是一次真正的合并。默认把当前提交(<em>ed489</em> 如下所示)和另一个提交(<em>33104</em>)以及他们的共同祖父节点(<em>b325c</em>)进行一次<a href="http://en.wikipedia.org/wiki/Three-way_merge">三方合并</a>。结果是先保存当前目录和索引，然后和父节点<em>33104</em>一起做一次新提交。</p>
<p><img src="/categories/Git/Git_Skills/image-20200305135004515.png" alt="git_merge_other"></p>
<h5 id="span-idcherry-pickcherry-pickspan"><a class="markdownIt-Anchor" href="#span-idcherry-pickcherry-pickspan"></a> <span id="cherry-pick">Cherry Pick</span></h5>
<p>cherry-pick命令&quot;复制&quot;一个提交节点并在当前分支做一次完全一样的新提交。</p>
<p><img src="/categories/Git/Git_Skills/image-20200305135558696.png" alt="git_cherry-pick"></p>
<h5 id="span-idrebaserebasespan"><a class="markdownIt-Anchor" href="#span-idrebaserebasespan"></a> <span id="rebase">Rebase</span></h5>
<p>衍合是合并命令的另一种选择。合并把两个父分支合并进行一次提交，提交历史不是线性的。衍合在当前分支上重演另一个分支的历史，提交历史是线性的。  本质上，这是线性化的自动的 <a href="#cherry-pick">cherry-pick</a></p>
<p><img src="/categories/Git/Git_Skills/image-20200305135653967.png" alt="git_rebase"></p>
<p>上面的命令都在<em>topic</em>分支中进行，而不是<em>master</em>分支，在<em>master</em>分支上重演，并且把分支指向新的节点。注意旧提交没有被引用，将被回收。</p>
<p>要限制回滚范围，使用<code>--onto</code>选项。下面的命令在<em>master</em>分支上重演当前分支从<em>169a6</em>以来的最近几个提交，即<em>2c33a</em>。</p>
<p><img src="/categories/Git/Git_Skills/image-20200305135732391.png" alt="git_rebase_onto"></p>
<p>同样有<code>git rebase --interactive</code>让你更方便的完成一些复杂操作，比如丢弃、重排、修改、合并提交。没有图片体现这些，细节看这里:<a href="http://www.kernel.org/pub/software/scm/git/docs/git-rebase.html#_interactive_mode">git-rebase(1)</a></p>
<blockquote>
<p><em>技术说明：</em></p>
<p>文件内容并没有真正存储在索引(<em>.git/index</em>)或者提交对象中，而是以blob的形式分别存储在数据库中(<em>.git/objects</em>)，并用SHA-1值来校验。 索引文件用识别码列出相关的blob文件以及别的数据。对于提交来说，以树(<em>tree</em>)的形式存储，同样用对于的哈希值识别。树对应着工作目录中的文件夹，树中包含的 树或者blob对象对应着相应的子目录和文件。每次提交都存储下它的上一级树的识别码。</p>
<p>如果用detached HEAD提交，那么最后一次提交会被the reflog for HEAD引用。但是过一段时间就失效，最终被回收，与<code>git commit --amend</code>或者<code>git rebase</code>很像。</p>
</blockquote>
<h4 id="span-iddetached分离状态时的提交操作span"><a class="markdownIt-Anchor" href="#span-iddetached分离状态时的提交操作span"></a> <span id="detached">分离状态时的提交操作</span></h4>
<p>当<em>HEAD</em>处于分离状态（不依附于任一分支）时，提交操作可以正常进行，但是不会更新任何已命名的分支。(你可以认为这是在更新一个匿名分支。)</p>
<p><img src="/categories/Git/Git_Skills/image-20200305140038759.png" alt="git_commit_detached"></p>
<p>一旦此后你切换到别的分支，比如说<em>master</em>，那么这个提交节点（可能）再也不会被引用到，然后就会被丢弃掉了。注意这个命令之后就不会有东西引用<em>2eecb</em>。</p>
<p><img src="/categories/Git/Git_Skills/image-20200305140139910.png" alt="git_checkout_master_detached"></p>
<p>但是，如果你想保存这个状态，可以用命令<code>git checkout -b *name*</code>来创建一个新的分支。</p>
<p><img src="/categories/Git/Git_Skills/image-20200305140215867.png" alt="git_checkout_b_name"></p>
<h3 id="技巧1-一个项目同时推送到多个远程git仓库"><a class="markdownIt-Anchor" href="#技巧1-一个项目同时推送到多个远程git仓库"></a> 技巧1： 一个项目同时推送到多个远程Git仓库</h3>
<p>由的时候，希望将项目同时推送到多个远程Git仓库，例如Github很稳定，但是访问速度在国内不行。Gitee在国内访问速度很好，但是不太稳定。前段时间还发生过域名被阿里云停止解析，搞的半天访问不了。</p>
<p>就以本<code>hexo-blog</code>项目为例，私有的源码打算同时使用Github和Gitee远程管理：</p>
<p>Gitee: <a href="mailto:git@gitee.com">git@gitee.com</a>:hero-wuking/hexo-blog.git</p>
<p>Github: <a href="mailto:git@github.com">git@github.com</a>:hero/hexo-blog.git</p>
<p>公共的Pages打算在这两个地方都开通：</p>
<p>Gitee Pages: <a href="hero-wuking.gitee.io">hero-wuking.gitee.io</a></p>
<p>Github Pages:  <a href="hero.github.io">hero.github.io</a></p>
<p>而Github上的Repo我同时还用Netlify托管了，详细参考<a href="/categories/Hexo/netlify/">使用Netlify托管自己的博客                    </a></p>
<p>对于一个新的项目，常规的操作方法如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 对于一个新的项目，需要初始化Git</span></span><br><span class="line">$ git init</span><br><span class="line"><span class="comment"># 添加Gitee远程地址，用于在国内push或fetch操作</span></span><br><span class="line">$ git remote add origin git@gitee.com:hero-wuking/hexo-blog.git</span><br><span class="line"><span class="comment"># 再添加一个Github的远程地址，灾备</span></span><br><span class="line">$ git remote <span class="built_in">set</span>-url --add origin git@github.com:hero/hexo-blog.git</span><br><span class="line"><span class="comment"># 查看远程地址设置</span></span><br><span class="line">$ git remote -v</span><br></pre></td></tr></table></figure>
<p><img src="/categories/Git/Git_Skills/image-20200305144957313.png" alt="git_remote-v"></p>
<h3 id="参考文档"><a class="markdownIt-Anchor" href="#参考文档"></a> 参考文档：</h3>
<ol>
<li><a href="https://www.bootcss.com/p/git-guide/">git - 简易指南</a></li>
<li><a href="http://marklodato.github.io/visual-git-guide/index-zh-cn.html">图解Git</a></li>
<li><a href="https://book.git-scm.com/book/zh/v2">Git专业指导书</a></li>
</ol>

			</div>
		
        
        <div class="level is-size-7 is-uppercase">
            <div class="level-start">
                <div class="level-item">
                    <span class="is-size-6 has-text-grey has-mr-7">#</span>
                    <a class="has-link-grey -link" href="/tags/Gitee/">Gitee</a>, <a class="has-link-grey -link" href="/tags/Github/">Github</a>, <a class="has-link-grey -link" href="/tags/git/">git</a>, <a class="has-link-grey -link" href="/tags/skills/">skills</a>
                </div>
            </div>
        </div>
        		
        
        
    </div>
</div>



<div class="card">
    <div class="card-content">
        <h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3>
        <div class="buttons is-centered">
            
                
<a class="button is-info donate">
    <span class="icon is-small">
        <i class="fab fa-alipay"></i>
    </span>
    <span>支付宝</span>
    <div class="qrcode"><img src="/images/alipay-donate.png" alt="支付宝"></div>
</a>

                
                
<a class="button is-success donate">
    <span class="icon is-small">
        <i class="fab fa-weixin"></i>
    </span>
    <span>微信</span>
    <div class="qrcode"><img src="/images/wx-donate.png" alt="微信"></div>
</a>

                
        </div>
    </div>
</div>



<div class="card card-transparent">
    <div class="level post-navigation is-flex-wrap is-mobile">
        
        
        <div class="level-end">
            <a class="level level-item has-link-grey  article-nav-next" href="/categories/Wisdom/abstract/">
                <span class="level-item">生活不仅仅需要努力，还需要智慧</span>
                <i class="level-item fas fa-chevron-right"></i>
            </a>
        </div>
        
    </div>
</div>



<div class="card">
    <div class="card-content">
        <h3 class="title is-5 has-text-weight-normal">评论</h3>
        
<div id="valine-thread" class="content"></div>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js"></script>
<script>
    new Valine({
        el: '#valine-thread' ,
        notify: false,
        verify: true,
        app_id: 'Jm5pOTHTJic8RWOipHQJNQmD-gzGzoHsz',
        app_key: 'qKmYHXG1MgqhaoLhlkasBHv8',
        placeholder: '有啥想说的？'
    });
</script>

    </div>
</div>
</div>
                




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered" style="flex-shrink: 1">
                <div>
                    
                    <figure class="image is-128x128 has-mb-6">
                        <img class="" src="/images/avatar.png" alt="herowuking">
                    </figure>
                    
                    <p class="is-size-4 is-block">
                        herowuking
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        Peasant
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>Chongqing, China</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        文章
                    </p>
                    <a href="/archives">
                        <p class="title has-text-weight-normal">
                            7
                        </p>
                    </a>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        分类
                    </p>
                    <a href="/categories">
                        <p class="title has-text-weight-normal">
                            4
                        </p>
                    </a>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        标签
                    </p>
                    <a href="/tags">
                        <p class="title has-text-weight-normal">
                            20
                        </p>
                    </a>
                </div>
            </div>
        </nav>
        
        <div class="level">
            <a class="level-item button is-link is-rounded" href="https://github.com/hero" target="_blank" rel="noopener">
                关注我</a>
        </div>
        
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank" rel="noopener"
                title="Github" href="https://github.com/hero">
                
                <i class="fab fa-github"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" rel="noopener"
                title="Facebook" href="https://facebook.com">
                
                <i class="fab fa-facebook"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" rel="noopener"
                title="Twitter" href="https://twitter.com">
                
                <i class="fab fa-twitter"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" rel="noopener"
                title="Dribbble" href="https://dribbble.com">
                
                <i class="fab fa-dribbble"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" rel="noopener"
                title="RSS" href="/">
                
                <i class="fas fa-rss"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
    
        

<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                分类
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/Git/">
            <span class="level-start">
                <span class="level-item">Git</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Hexo/">
            <span class="level-start">
                <span class="level-item">Hexo</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Others/">
            <span class="level-start">
                <span class="level-item">Others</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Wisdom/">
            <span class="level-start">
                <span class="level-item">Wisdom</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li>
            </ul>
        </div>
    </div>
</div>

    
        
<div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            归档
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2020/03/">
                <span class="level-start">
                    <span class="level-item">三月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/02/">
                <span class="level-start">
                    <span class="level-item">二月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/01/">
                <span class="level-start">
                    <span class="level-item">一月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>

    
        
    
    
        <div class="column-right-shadow  is-sticky">
        
            

    <div class="card widget" id="toc">
        <div class="card-content">
            <div class="menu">
                <h3 class="menu-label">
                    目录
                </h3>
                <ul class="menu-list"><li>
        <a class="is-flex" href="#git基础操作">        
        <span> Git基础操作</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#理解git工作流">        
        <span> 理解Git工作流</span>
        </a></li><li>
        <a class="is-flex" href="#本地创建新仓库">        
        <span> 本地创建新仓库</span>
        </a></li><li>
        <a class="is-flex" href="#检出仓库克隆到本地">        
        <span> 检出仓库(克隆到本地)</span>
        </a></li><li>
        <a class="is-flex" href="#分支branch">        
        <span> 分支(branch)</span>
        </a></li><li>
        <a class="is-flex" href="#更新与合并">        
        <span> 更新与合并</span>
        </a></li><li>
        <a class="is-flex" href="#标签">        
        <span> 标签</span>
        </a></li><li>
        <a class="is-flex" href="#替换本地改动">        
        <span> 替换本地改动</span>
        </a></li><li>
        <a class="is-flex" href="#基本用法图解">        
        <span> 基本用法图解</span>
        </a></li><li>
        <a class="is-flex" href="#常用命令图解">        
        <span> 常用命令图解</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#diff">        
        <span> Diff</span>
        </a></li><li>
        <a class="is-flex" href="#commit">        
        <span> Commit</span>
        </a></li><li>
        <a class="is-flex" href="#checkout">        
        <span> Checkout</span>
        </a></li><li>
        <a class="is-flex" href="#reset">        
        <span> Reset</span>
        </a></li><li>
        <a class="is-flex" href="#span-idmergemergespan">        
        <span> Merge</span>
        </a></li><li>
        <a class="is-flex" href="#span-idcherry-pickcherry-pickspan">        
        <span> Cherry Pick</span>
        </a></li><li>
        <a class="is-flex" href="#span-idrebaserebasespan">        
        <span> Rebase</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#span-iddetached分离状态时的提交操作span">        
        <span> 分离状态时的提交操作</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#技巧1-一个项目同时推送到多个远程git仓库">        
        <span> 技巧1： 一个项目同时推送到多个远程Git仓库</span>
        </a></li><li>
        <a class="is-flex" href="#参考文档">        
        <span> 参考文档：</span>
        </a></li></ul>
            </div>
        </div>
    </div>

        
            <div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            最新文章
        </h3>
        
        <article class="media">
            
            <a href="/categories/Git/Git_Skills/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/categories/Git/Git_Skills/Git_Skills-thumbnail.png" alt="Git基本操作与使用技巧">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-03-05T06:15:23.000Z">2020-03-05</time></div>
                    <a href="/categories/Git/Git_Skills/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Git基本操作与使用技巧</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Git/">Git</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/categories/Wisdom/abstract/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/categories/Wisdom/abstract/abstract-thumbnail.png" alt="生活不仅仅需要努力，还需要智慧">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-02-29T10:58:30.000Z">2020-02-29</time></div>
                    <a href="/categories/Wisdom/abstract/" class="title has-link-black-ter is-size-6 has-text-weight-normal">生活不仅仅需要努力，还需要智慧</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Wisdom/">Wisdom</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/categories/Hexo/netlify/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/categories/Hexo/netlify/netlify-thumbnail.png" alt="使用Netlify托管自己的博客">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-02-28T03:38:35.000Z">2020-02-28</time></div>
                    <a href="/categories/Hexo/netlify/" class="title has-link-black-ter is-size-6 has-text-weight-normal">使用Netlify托管自己的博客</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Hexo/">Hexo</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/categories/Others/proxifier/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/categories/Others/proxifier/proxifier-thumbnail.png" alt="使用Proxifier代理安装Qt for Golang">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-02-19T13:37:00.000Z">2020-02-19</time></div>
                    <a href="/categories/Others/proxifier/" class="title has-link-black-ter is-size-6 has-text-weight-normal">使用Proxifier代理安装Qt for Golang</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Others/">Others</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/categories/Others/meeting/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/categories/Others/meeting/meeting-thumbnail.png" alt="腾讯会议的使用记录">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-02-18T08:35:00.000Z">2020-02-18</time></div>
                    <a href="/categories/Others/meeting/" class="title has-link-black-ter is-size-6 has-text-weight-normal">腾讯会议的使用记录</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Others/">Others</a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>
        
        </div>
    
</div>

				
            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/logo.svg" alt="Git基本操作与使用技巧" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2020 herowuking&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> & <a
                        href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a> 
                </p>
            </div>
			<!-- 新增网站运行时长统计 -->
			<div class="level-middle">
				<span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span>
				<script>
                var now = new Date(); 
                function createtime() { 
                    var grt= new Date("1/26/2019 17:00:00");//此处修改你的建站时间或者网站上线时间 
                    now.setTime(now.getTime()+250); 
                    days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days); 
                    hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours); 
                    if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum); 
                    mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;} 
                    seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum); 
                    snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;} 
                    document.getElementById("timeDate").innerHTML = "本站已安全运行 "+dnum+" 天 "; 
                    document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒"; 
                } 
				setInterval("createtime()",250);
				</script>
				
                <br>
				<span id="busuanzi_container_site_pv" style='display:none'>
					总访问量<span id="busuanzi_value_site_pv" style='color:#830026'>0</span>次
				</span>         
                
			</div>
			<!-- 新增内容结束 -->
			<div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/hero/hero.github.io">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("zh-CN");</script>


<script>
var IcarusThemeSettings = {
    site: {
        url: 'https://www.herowuking.com',
        external_link: {"enable":true,"exclude":[]}
    },
    article: {
        highlight: {
            clipboard: false,
            fold: 'unfolded'
        }
    }
};
</script>






<script src="/js/animation.js"></script>



<script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
<script src="/js/gallery.js" defer></script>



<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>


<a id="back-to-top" title="回到顶端" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>














<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="想要查找什么..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: '文章',
                PAGES: '页面',
                CATEGORIES: '分类',
                TAGS: '标签',
                UNTITLED: '(无标题)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>